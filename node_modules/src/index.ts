// Importar funciones y tipos desde manipularDatos.ts
import { obtenerControlesDePaciente, registrarControlRealizado } from './manipularDatos';
import { Paciente, SignoVital, ControlRealizado } from './tipos';

console.log("Ejecutando el código...");

// Arreglo de pacientes (ejemplo)
const pacientes: Paciente[] = [
  { id: 1, nombre: "Juan Pérez", identificacion: "123456789" },
  { id: 2, nombre: "María López", identificacion: "987654321" },
];

// Arreglo de signos vitales (ejemplo)
const signosVitales: SignoVital[] = [
  { id: 1, descripcion: "Presión arterial", nivelMinimo: 60, nivelMaximo: 120 },
  { id: 2, descripcion: "Frecuencia cardíaca", nivelMinimo: 60, nivelMaximo: 100 },
];

// Arreglo de controles realizados (ejemplo inicial)
let controlesRealizados: ControlRealizado[] = [
  { id: 1, idPaciente: 1, idSignoVital: 1, fecha: "2024-04-25", hora: "10:00", valor: 110 },
  { id: 2, idPaciente: 2, idSignoVital: 2, fecha: "2024-04-25", hora: "11:00", valor: 75 },
];

// Obtener todos los controles realizados de un paciente con ID 1
const pacienteIdBuscado = 1;
const controlesDeJuan = obtenerControlesDePaciente(pacienteIdBuscado, controlesRealizados);
console.log(`Controles realizados del paciente con ID ${pacienteIdBuscado}:`);
console.log(controlesDeJuan);

// Registrar un nuevo control para un paciente existente
const idPacienteRegistro = 1;
const idSignoVitalRegistro = 1;
const fechaRegistro = "2024-04-26";
const horaRegistro = "09:00";
const valorRegistro = 118;

registrarControlRealizado(
  idPacienteRegistro,
  idSignoVitalRegistro,
  fechaRegistro,
  horaRegistro,
  valorRegistro,
  pacientes,
  signosVitales,
  controlesRealizados
);

console.log("Fin de la ejecución.");
